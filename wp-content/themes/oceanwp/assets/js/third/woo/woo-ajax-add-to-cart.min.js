jQuery(function(n){if("undefined"==typeof oceanwpLocalize||n(".woocommerce div.product").hasClass("product-type-grouped"))return!1;n.fn.serializeArrayAll=function(){var r=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(e,a){var t=jQuery(this).val();return null==t?null==t:"checkbox"==this.type&&0==this.checked||"radio"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(t)?jQuery.map(t,function(e,t){return{name:a.name,value:e.replace(r,"\r\n")}}):{name:a.name,value:t.replace(r,"\r\n")}}).get()};function e(){n(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)}e.prototype.onAddToCart=function(e){e.preventDefault();var t=n(this),a=n(this).closest("form.cart").serializeArrayAll(),r=!1;n.each(a,function(e,t){if("add-to-cart"===t.name)return!(r=!0)}),r&&(e.preventDefault(),cartsync())},new e});function cartsync(){var product={'title':jQuery('.product_title').text(),'url':location.href,'price':jQuery('.woocommerce-Price-amount.amount:eq(0)').text(),'img':jQuery('.flex-control-nav.flex-control-thumbs img:eq(0)').prop('src')};document.body.classList.remove("loaded");setTimeout(function(){document.body.classList.add("loaded");},700);product.qty=parseInt(jQuery('.input-text.qty.text').val(),10);product.size=jQuery('form.cart select').val();var cart = JSON.parse(sessionStorage.getItem('cart')||'{}');if(product.url in cart){product.qty+=cart[product.url].qty;}cart[product.url]=product;sessionStorage.setItem('cart',JSON.stringify(cart));}